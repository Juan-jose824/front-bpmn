<div class="register-container">
  <div class="card register-card">
    <div class="card-header">
      <h1>{{ isEditing ? 'Editar Usuario' : 'Registrar Nuevo Usuario' }}</h1>
      <p class="subtitle">Completa solo los campos que desees modificar</p>
    </div>

    <form [formGroup]="registerForm" (ngSubmit)="onRegister()">
      <div class="form-grid">
        <div class="form-group">
          <label>Nombre de Usuario</label>
          <input type="text" formControlName="username" placeholder="usuario123">
        </div>
        <div class="form-group">
          <label>Correo Electr√≥nico</label>
          <input type="email" formControlName="email" placeholder="usuario@example.com">
        </div>
        
        <div class="form-group">
          <label>Contrase√±a {{ isEditing ? '(Nueva)' : '' }}</label>
          <input type="password" formControlName="password" [placeholder]="isEditing ? 'Opcional' : '‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢'">
        </div>
        <div class="form-group">
          <label>Confirmar Contrase√±a</label>
          <input type="password" formControlName="confirmPassword" [placeholder]="isEditing ? 'Opcional' : '‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢'">
        </div>
      </div>

      <div class="form-group full-width">
        <label>Rol de Usuario</label>
        <select formControlName="role">
          <option value="Usuario">Usuario</option>
          <option value="Admin">Administrador</option>
        </select>
      </div>

      <button type="submit" class="btn-submit" 
        [disabled]="registerForm.invalid || (registerForm.value.password !== registerForm.value.confirmPassword)">
        {{ isEditing ? 'Actualizar Cambios' : 'Registrar Usuario' }}
      </button>
      
      <button type="button" class="btn-cancel" *ngIf="isEditing" (click)="cancelarEdicion()">
        Cancelar Edici√≥n
      </button>
    </form>
  </div>

  <div class="card list-card">
    <h2>Usuarios Registrados</h2>
    <div class="table-container">
      <table>
        <thead>
          <tr>
            <th>Usuario</th>
            <th>Correo Electr√≥nico</th>
            <th>Rol</th>
            <th>Fecha de Registro</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let user of registeredUsers">
            <td>{{ user.user_name }}</td>
            <td>{{ user.email }}</td>
            <td><span class="badge-role">{{ user.rol }}</span></td>
            <td>{{ user.fecha_registro | date:'dd/MM/yyyy' }}</td>
            <td class="actions">
              <button class="btn-icon edit" (click)="editarUsuario(user)">‚úèÔ∏è</button>
              <button class="btn-icon delete" (click)="eliminarUsuario(user.user_name)">üóëÔ∏è</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>